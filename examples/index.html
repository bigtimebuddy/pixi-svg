<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>pixi-svg</title>
        <meta name='viewport' content='width=device-width, initial-scale=1.0'>
        <style>
            body {
              text-align:center;
              background:#fff;
              margin:0;
              padding:0;
            }
            .row {
              text-align:center;
              clear:both;
              margin:0 auto;
              max-width: 400px;
            }
            .invisible {
              display:none;
            }
            canvas,
            img {
              width:100%;
            }
            .pixi,
            .svg {
              font-size:0;
              display: block;
              width: 50%;
              float: left;
              padding: 10px;
              box-sizing: border-box;
            }
            .title {
              text-align: center;
              font-weight: bold;
              color:#999;
              font-size:24px;
              font-family:Helvetica, sans-serif;
              padding:10px 0;
            }
        </style>
        <script src="https://pixijs.download/dev/pixi.js"></script>
        <script src="../dist/pixi-svg.js"></script>
    </head>
    <body>
<div class="invisible">
<!-- Adobe logo -->
<svg viewBox='0 0 105 93' xmlns='http://www.w3.org/2000/svg'>
    <path d='M66,0h39v93zM38,0h-38v93zM52,35l25,58h-16l-8-18h-18z' fill='#ED1C24'/>
</svg>

<!-- Color circles -->
<svg id='svg1' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'>
  <circle r="32" cx="35" cy="65" fill="#F00" opacity="0.5"/>
  <circle r="32" cx="65" cy="65" fill="#0F0" opacity="0.5"/>
  <circle r="32" cx="50" cy="35" fill="#00F" opacity="0.5"/>
</svg>

<!-- Android logo -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 105">
  <g fill="#97C024" stroke="#97C024" stroke-linejoin="round" stroke-linecap="round">
    <path d="M14,40v24M81,40v24M38,68v24M57,68v24M28,42v31h39v-31z" stroke-width="12"/>
    <path d="M32,5l5,10M64,5l-6,10 " stroke-width="2"/>
  </g>
  <path d="M22,35h51v10h-51zM22,33c0-31,51-31,51,0" fill="#97C024"/>
  <g fill="#FFF">
    <circle cx="36" cy="22" r="2"/>
    <circle cx="59" cy="22" r="2"/>
  </g>
</svg>
     
<!-- warning sign -->   
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="#000">
  <path d="M8,80s-5,8,5,9l78,0s9,0,5-9l-40-71s-4-6-8,0z" stroke-width="2" fill="#fff" fill-rule="evenodd" />
  <path d="M52,10 L10,85 L93,85z" stroke-width="2" stroke-linejoin="round" fill="#fc0" fill-rule="evenodd"/>
  <path d="M52,32l0,26" stroke-width="9" stroke-linecap="round" fill-rule="evenodd"/>
  <circle r="6" cx="52" cy="73"/>
</svg>

<!-- debian logo -->
<svg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'>
  <path d='M59,52c-2,0,0,1,2,1l2-1h-4M67,50l2-4l-1,3c-3,2,0-1,0-2c-3,4-1,2-1,3M70,42c1-3,0-2,0-1v1M53,3l2,1c1,0,1-1-2-1M55,4h-1zM81,43c0,3-1,4-2,6l-1,1l-1,3l-6,5c-1,0,0-1,1-1c-3,1-2,2-6,3c-9,4-21-4-21-15c-1-5,2-11,8-13c5-3,11-2,14,1c-2-2-6-5-10-5c-5,0-9,3-11,7c-2,1-2,5-3,6c-2,10,2,15,9,20c1,1,0,1,0,1l-6-4l4,3c-3,0-5-5-6-5c3,7,15,12,21,9c-3,0-7,0-10-1c-1-1-3-2-2-2c8,3,16,2,23-4l4-3c-1,1,0,0,0,1c1-2-1-1,1-4l1,1c0-3,3-5,3-9c1-1,1,1,0,4c1-3,0-4,1-6c0,1,0,2,1,2c-1-2,0-4,1-6c-1,0-1,1-2-2c0-1,1-1,1-1l-2-3c1-1,1,1,2,1l-1-4c-1-3-1,0-2-2c-1-4,2-1,2-3l4,10l-2-7c0,1-1-5,1-1c-2-8-9-14-15-18c1,1,2,2,1,2c-3-2-2-2-3-3c-2-1-2,1-4,0c-4-2-5-2-9-3v1c-3-1-4,0-7,0c0-1,1-1,2-1c-3,0-3-1-6,0l3-1c-3,0-6,1-5,0c-4,2-11,4-15,8v-1c-2,2-8,6-8,9h-1c-1,2-1,4-2,5c-1,2-2,1-2,1l-4,13c1,1,0,6,0,11c-1,21,15,42,33,47c3,1,7,1,10,1l-8-2c-3-1-3-3-5-4v1c-3-1-2-2-5-3l1-1c-1,0-3-2-4-3h-1l-3-4c-1-1-6-7-3-6c-1,0-2,0-2-2l-2-5c0,1,1,1,2,1c-4-9-4,0-7-9h1c-1,0-1-1-1-2v-2c-3-3-1-12,0-18c0-2,2-4,3-7h-1c2-3,10-12,13-11c2-3,0,0-1-1c4-4,5-3,8-3c3-2-2,0-1-1c5-1,3-3,9-3c1,0-1,0-2,1c4-2,13-2,18,1c7,3,14,12,14,20h1c0,3,0,7-1,11zM42,54v2l3,4l-3-6M44,54l-1-2c0,2,1,3,2,4zM87,45v1c0,3-1,5-3,8c2-3,3-6,3-9M53,3c1-1,3-1,4-1h-4zM16,22c0,3-2,4,0,2c2-3,0-1,0-2M13,33l1-3c-1,1,0,2-1,3' fill='#D70751'/>
</svg>

<!-- EFF logo -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 84">
  <circle cx="78" cy="42" r="39" fill="#c11"/>
  <path d="M85,19h-8v9h6h-6v11M85,48h-8v9h6h-6v11" stroke-width="4" stroke="#FFF" fill="none"/>
  <path d="M3,16h65v10h-40v10h38v10h-38v11h40v11h-65z" fill="#000"/>
</svg>

<!-- RSS logo -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <rect fill="#F80" x="0" y="3" height="95" width="95" rx="15"/>
  <circle cx="18" cy="81" r="9" fill="#FFF"/>
  <path d="M48,84s0-33-33-33 M75,84s0-60-60-60"
    stroke-linecap="round" stroke-width="15" stroke="#FFF" fill="none"/>
</svg>

<!-- Mozilla logo -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 133 78">
  <path d="M23,72c-2,0-3,2-5,2c-1-2,2-4,2-7c-3,0-4,4-6,4c1-6,9-12,4-12c0,0-10,7-11,6c2-2,10-14,7-14c-1,0-7,4-9,4c0-2,9-10,10-11c2,0,3-2,2-3c-5,0-11,8-15,6l2-2c1-1,16-14,16-16c-3-2-13,6-18,6c22-24,38-33,47-35c7,0,14,2,21,3c0,3,12-1,13-1c5,0,9,4,11,8c0,1,0,2,0,4c3,11,31,7,35,19c0,5,1,9,2,14c-2,4-2,12-6,13c-4,1-4,1-4,1c-3,2-7,5-10,6c0,0-16-6-20-3c-12,4-16,8-19,20l-49-3"/>
  <path fill="#FFF" d="M86,22l-1-2h3v2h-2M83,19l-2,1l-1-2h2l1,1M122,57l-1-2c-1,0-1,1-3,1c0-1,0-3,0-4h2l1,2c1-1,2-1,3-1c1,1,1,2,0,3l-2,1M113,56c0-1,0-2,0-3c0-1,1-2,3-2c0,4,0,4-3,5M109,55c0-1-1-3,0-4h2c1,2,0,4-2,4M106,54l-2-2c-1,0-2,1-3,0c-1,0-1-2,0-4c1,0,2,0,3,1v2c1,0,2-1,3-1c1,0,0,2,0,3l-1,1M96,50c-2-1-1-2-1-4c2,0,3,0,4,2c-1,1-2,2-3,2"/>
  <path fill="#ED1C24" d="M40,75v-2c-2,0-9,2-9-2c0-2,5-8,3-8c-3-6-7-11-10-17c2-1,0-3,2-6c3-1,2,4,5,3c-4-17,5-22,5-22c-3,0-4,0-6,1c1-7,11-14,17-15c5-1,15-3,18,2c0,1-1,2-1,3c4,0,10-4,15-5c2-1,4-1,7,0l1,2c-7-3-17,3-23,6c-1,0-2,1-3,1l1,1c3,1,4,2,8,2c1,1,2,2,3,3c1,1,2,2,3,2c0-2,0-2-1-4c1-2-1-3,2-5c2,0,2,1,3,1c-4,4-2,8,10,9c1,0,3,1,3-2c-2,0-2-2-2-3l2,1c1,3,27,7,31,12c1,2,0,3-4,5c0,2,2,5,3,6l2-2l1,1c0,2,0,3,0,5v1c-1,0-2,0-3,0c-4-1-9-1-13-1c-11-5-25-16-36-20c-2-1-1-1-4-1c0,2,1,2,3,3c3,4,6,6,5,11l-1,2c-4,0-1-8-4-9c-10,8,5,25,13,20c-4-2-4-4-4-5c10,5,31,10,33,11c0,1-4,1-4,2c-5,1-13-2-17-4c-5-1-11,7-22,4c-2-1-13-8-15-8c0,4,9,12,11,13l0,2c-2,2-5,5-5,7"/>
  <path d="M80,24c3,1,11,4,9,5c-3,0-8,0-9-3v-2m-36-4l-2,2c0-1,1-3,1-3c3-6,9-8,14-7l0,1c-8,2-6,12-7,12c-2-1-3-5-6-5m0,34c0-6-8-17,3-22c1,0-2,15,7,19v2c-2,0-3,0-5,0c-1-2-1-1-2-1c0,2,1,5,1,7c-1-1-3-3-4-5m14-26c0-2-2-3,0-4c2,0,3-2,3-4c2,0,5,2,6,3c0,2-1,2-2,4c1,2,1,2,1,4h-1c-2,0-8-1-8,1c-2,0-3,0-5,0c-1-1,1-2,1-3c2,0,3-1,5-1"/>
</svg>

<!-- heart -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
  <path d="M50,30c9-22 42-24 48,0c5,40-40,40-48,65c-8-25-54-25-48-65c 6-24 39-22 48,0 z" fill="#F00" stroke="#000"/>
</svg>

<!-- utensils -->
<svg viewBox='0 0 160 62' xmlns='http://www.w3.org/2000/svg'>
  <path style="fill:silver; stroke:black" d='M13,19c-7,0-7-9,0-9l82,2c6,0,6-9,13-9l42,1c3,0,3,3,0,3h-35c-4,0-4,3,0,3h35c3,0,3,3,0,3h-38c-3,0-3,3,0,3h38c3,0,3,3,0,3h-35c-4,0-4,3,0,3h35c3,0,3,3,0,3l-42,1c-7,0-7-9-13-9zM145,50c7,0,7-9,0-9l-84,2c-6,0-7-6-14-9c-11-6-31,1-36,5c-5,4-5,9,0,13c5,4,25,10,36,5c7-4,9-9,14-9z' />
</svg>

<svg version="1.1" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 480 360">
  <g>
    <polyline fill="none" stroke="#000000" points="10,50,35,150,60,50,85,150,110,50,135,150"/>
    <polyline fill="none" stroke="blue" stroke-width="8" points="220,50,267,84,249,140,190,140,172,84,220,50"/>
    <polyline fill="blue" stroke="#00FF00" stroke-width="4" points="310,50,335,150,360,50,385,150,410,50,435,150"/>
    <polyline fill="none" stroke="red" stroke-width="8" points="59,185,98,203,108,245,82,279,39,280,11,247,19,205"/>
    <polyline fill="#00FF00" stroke="#0000FF" stroke-width="8" points="189,185,228,203,238,245,212,279,169,280,141,247,149,205"/>
    <polyline fill="#FF00FF" stroke="none" stroke-width="8" points="270,225 300,245 320,225 340,245 280,280 390,280 420,240 280,185"/>
  </g>
  <rect id="test-frame" x="1" y="1" width="478" height="358" fill="none" stroke="#000000"/>
</svg>

<svg version="1.1" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 480 360">
  <g>
    <polygon fill="none" stroke="#000000" points="59,45,95,63,108,105,82,139,39,140,11,107,19,65"/>
    <polygon fill="red"  points="179,45,218,63,228,105,202,139,159,140,131,107,139,65,179,45"/>
    <polygon fill="blue" stroke="black" stroke-width="6" points="350,45 375,80 410,95 375,110 350,145 325,120 290,95 325,70,350,45"/>
    <polygon fill="none" stroke="#0000FF" stroke-width="8" points="59,185,98,203,108,245,82,279,39,280,11,247,19,205,59,185"/>
    <polygon fill="#00FF00" stroke="#0000FF" stroke-width="8" points="179,185,218,203,228,245,202,279,159,280,131,247,139,205"/>
    <polygon fill="none" stroke="#00FF00" stroke-width="8" points="270,225 300,245 320,225 340,245 280,280 390,280 420,240 280,185"/>
  </g>
  <rect id="test-frame" x="1" y="1" width="478" height="358" fill="none" stroke="#000000"/>
</svg>

<!-- sound icon with style -->
<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <path
     d="M 69.989182,30.235267 c 5.226048,6.724068 10.451958,13.44796 10.45183,20.172184 -1.28e-4,6.724224 -5.22583,13.447844 -10.45183,20.171848 m 0,-66.373622 c 12.902729,15.400775 25.805268,30.801324 25.805137,46.066004 -1.3e-4,15.26468 -12.902608,30.393632 -25.805137,45.522644"
     style="display:inline;fill:none;stroke:#000000;stroke-width:7.97791;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1" />
  <path
     d="M 55.88845,10.348116 V 91.036199 L 30.078507,65.821173 H 2.5079233 V 35.563151 H 30.078507 Z"
     style="fill:none;stroke:#000000;stroke-width:5.01584;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;" />
</svg>

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
<path d="M50,3l12,36h38l-30,22l11,36l-31-21l-31,21l11-36l-30-22h38z" fill="#FF0" stroke="#FC0" stroke-width="2"/>
</svg>

<!-- Simple relative arc -->
<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <path
    stroke="green"
    strokeWidth="5"
    d="M2.5,25 a 25 25 0 1 0 95 0"
    fill="blue"
  />
  <rect x="0" y="0" width="25" height="25" fill="red" />
</svg>

<!-- Simple absolute arc -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 320">
  <path d="M 10 315
      L 110 215
      A 36 60 0 0 1 150.71 170.29
      L 172.55 152.45
      A 30 50 -45 0 1 215.1 109.9
      L 315 10" stroke="black" fill="green" stroke-width="2" fill-opacity="0.5"/>
</svg>

        </div>
        <div class="row">
          <div class="pixi title"><span>PixiJS</span></div>
          <div class="svg title"><span>Native SVG</span></div>
        </div>
        <script>

            const resolution = window.devicePixelRatio;
            let appWidth = 0;
            let appHeight = 240;
            let aspectRatio = 1;
            let app = null;
            let style = null;

            function measureSVG(svg) {
                const viewBox = svg.getAttribute('viewBox').split(' ');
                const width = parseInt(viewBox[2]);
                const height = parseInt(viewBox[3]);
                svg.dataset.width = width;
                svg.dataset.height = height;
                aspectRatio = Math.min(width / height, aspectRatio);
                appWidth = aspectRatio * appHeight;
            }

            async function drawSVG(svg) {
                const graphics = new PIXI.SVG(svg);
                graphics.scale.set(appWidth / svg.dataset.width * resolution);
                app.stage.removeChildren();
                app.stage.addChild(graphics);
                app.render();

                const row = document.createElement('div');
                row.className = 'row';
                const pixiContainer = document.createElement('div');
                pixiContainer.className = 'pixi';
                pixiContainer.appendChild(await app.renderer.extract.image());
                const svgContainer = document.createElement('div');
                svgContainer.className = 'svg';
                svgContainer.appendChild(svg);
                row.appendChild(pixiContainer);
                row.appendChild(svgContainer);
                document.body.appendChild(row);
            }
            const svgs = document.querySelectorAll('svg');
            svgs.forEach(measureSVG);
            style = `max-width:${appWidth}px;max-height:${appHeight}px`;
            app = new PIXI.Application({
                width: appWidth * resolution,
                height: appHeight * resolution,
                backgroundColor: 0xffffff,
                autoStart: false,
            });
            app.stop();
            svgs.forEach(drawSVG);

        </script>
    </body>
</html>